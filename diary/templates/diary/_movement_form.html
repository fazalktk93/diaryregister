{% comment %} Movement form fragment for modal usage {% endcomment %}
<form method="post" id="movementForm">
  {% csrf_token %}

  {% for field in form %}
    <div class="mb-3">
      <label for="{{ field.id_for_label }}" class="form-label">
        {{ field.label }}
        {% if field.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ field }}
      {% if field == form.from_office or field == form.to_office %}
        <datalist id="office-list">
          {% for office in offices %}
            <option value="{{ office }}">
          {% endfor %}
        </datalist>
      {% endif %}
      {% if field.errors %}
        <div class="alert alert-danger mt-1 mb-0 py-1 px-2 small">{{ field.errors|striptags }}</div>
      {% endif %}
    </div>
  {% endfor %}

  <div class="d-flex gap-2 mt-4">
    <button class="btn btn-success" type="submit"><i class="bi bi-plus-circle"></i> Add Movement</button>
    <button type="button" class="btn btn-danger" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancel</button>
  </div>
</form>
